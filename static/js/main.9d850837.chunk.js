(this["webpackJsonpimage-editing-client"]=this["webpackJsonpimage-editing-client"]||[]).push([[0],{21:function(e,t,a){},22:function(e,t,a){"use strict";a.r(t);var c=a(3),n=a.n(c),s=a(9),i=a.n(s),r=a(23),l=a(2);var o=function(e){let{setUploadedImage:t,setUploadedFolder:a}=e;return Object(l.jsxs)("div",{children:[Object(l.jsx)("input",{type:"file",accept:"image/*",onChange:async e=>{const a=e.target.files[0],c=URL.createObjectURL(a);t(c)}}),Object(l.jsxs)("div",{children:[Object(l.jsx)("label",{htmlFor:"folderUpload",children:"\u4e0a\u50b3\u5716\u7247\u8cc7\u6599\u593e:"}),Object(l.jsx)("input",{type:"file",id:"folderUpload",webkitdirectory:"true",mozdirectory:"true",onChange:async e=>{const t=e.target.files,c=[];for(let a=0;a<t.length;a++){const e=URL.createObjectURL(t[a]);c.push(e)}a(c)}})]})]})};var d=function(e){let{uploadedImage:t,brightness:a,contrast:c}=e;const n={filter:"brightness(".concat(a,"%) contrast(").concat(c,"%)")};return Object(l.jsx)("div",{children:Object(l.jsx)("img",{src:t,alt:"Preview",style:n})})},j=a(10);var g=function(e){let{uploadedImage:t,brightness:a,contrast:n,setBrightness:s,setContrast:i}=e;const[o,g]=Object(c.useState)(null),b=Object(c.useRef)(null),h=async()=>{try{const e=b.current,c=e.getContext("2d"),s=new Image;s.src=t,s.onload=()=>{e.width=s.width,e.height=s.height,c.drawImage(s,0,0),c.filter="brightness(".concat(a,"%) contrast(").concat(n,"%)"),c.drawImage(s,0,0);const t=e.toDataURL("image/jpeg");g(t)}}catch(e){console.error("Failed to save image",e)}};return Object(c.useEffect)((()=>{h()}),[a,n,t]),Object(l.jsxs)("div",{children:[Object(l.jsxs)("div",{children:[Object(l.jsx)("label",{children:"\u4eae\u5ea6:"}),Object(l.jsx)("input",{id:"bright",type:"range",min:"0",max:"200",value:a,onChange:e=>s(e.target.value)})]}),Object(l.jsxs)("div",{children:[Object(l.jsx)("label",{children:"\u5c0d\u6bd4\u5ea6:"}),Object(l.jsx)("input",{id:"contrast",type:"range",min:"0",max:"200",value:n,onChange:e=>i(e.target.value)})]}),Object(l.jsx)(d,{uploadedImage:t,brightness:a,contrast:n}),Object(l.jsx)("button",{onClick:h,children:"\u4fdd\u5b58\u5716\u7247"}),Object(l.jsx)("canvas",{ref:b,style:{display:"none"}}),o&&Object(l.jsx)("div",{children:Object(l.jsx)("button",{onClick:async()=>{if(o)try{const e=await r.a.get(o,{responseType:"blob"});Object(j.saveAs)(e.data,"edited-image.jpg")}catch(e){console.error("Failed to download image",e)}},download:"edited-image.jpg",children:"\u4e0b\u8f09\u5716\u7247"})})]})};var b=function(e){let{images:t,onImageClick:a}=e;const[n,s]=Object(c.useState)(null);return Object(l.jsxs)("div",{className:"image-list",children:[t.map(((e,t)=>Object(l.jsx)("img",{src:e,alt:"Image ".concat(t),onClick:()=>a(e)},t))),n&&Object(l.jsx)("div",{className:"largeImageContainer",children:Object(l.jsx)("img",{id:"largeImage",src:n,alt:"Large view"})})]})};var h=function(){const[e,t]=n.a.useState(null),[a,s]=Object(c.useState)(100),[i,r]=Object(c.useState)(100),[d,j]=Object(c.useState)([]);return Object(l.jsxs)("div",{className:"App",children:[Object(l.jsx)("h1",{children:"\u5716\u7247\u7de8\u8f2f\u5668"}),Object(l.jsx)(o,{setUploadedImage:e=>{t(e),s(100),r(100)},setUploadedFolder:e=>{j(e)}}),d.length>0&&Object(l.jsx)(b,{images:d,onImageClick:e=>{t(e),s(100),r(100)}}),e&&Object(l.jsx)(g,{uploadedImage:e,brightness:a,contrast:i,setBrightness:s,setContrast:r})]})};a(21);i.a.render(Object(l.jsx)(h,{}),document.getElementById("root"))}},[[22,1,2]]]);
//# sourceMappingURL=main.9d850837.chunk.js.map